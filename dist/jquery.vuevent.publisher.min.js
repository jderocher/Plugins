/*MINIFIED*/
(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="vueventPublisher",s={baseURI:"http://vuevents.com/",authURL:"http://vuevents.com/o/authorize/",clientID:"",responseType:"token",state:Math.random().toString(36).slice(2),scope:"read write",redirectURI:"http://localhost:8888",buttonID:"btnVueventPublishEvent",formID:"",fields:{}};e.extend(o.prototype,{init:function(){if(!t.name){t.name="vueventParent"}var n=this,r="#"+n._defaults.buttonID;vueventPublisherHandle=n;if(t.name=="vueventPopup"){t.opener.vueventPublisherHandle.publishEvent(location.href);t.close()}e(r).click(function(r){r.preventDefault();var i={client_id:n.options.clientID,response_type:n.options.responseType,state:Math.random().toString(36).slice(2),scope:"read write",redirect_uri:n.options.redirectURI};var s=n.options.authURL+"?"+e.param(i);win=t.open(s,"vueventPopup")})},getQuery:function(t){if(/\/#/g.test(t)){var n=t.split("/#")}else if(/\/?/g.test(t)){var n=t.split("/?")}var r={};if(n.length==2){var i=n[1].split("&");e.each(i,function(e,t){var n=t.split("=");if(n.length==2){r[n[0]]=n[1]}})}return r},publishEvent:function(n){var r=this,i=r.getQuery(n),s=r.options.baseURI;e.ajax({url:s+"events/",method:"GET",crossDomain:true,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+i["access_token"])},success:function(n){var i=r.getFormData(r.options.fields);t.open(s+"event/?"+e.param(i))},statusCode:{404:function(){e("#vueventConsole").text("NOT FOUND: Could not find the url location.")},401:function(){e("#vueventConsole").text("UNAUTHORIZED: There was an error authenticating you.")}}})},getFormData:function(t){var n={};if(Object.keys(t).length>0){e.each(t,function(t,r){n[t]=e(r).val()})}return n}});e.fn[i]=function(t){this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}});return this}})(jQuery,window,document)